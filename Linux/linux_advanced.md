# linux复习保留感觉重要的内容
## ls
- ls -lah 命令
    - ls列出的结果颜色说明，其中**蓝色的名称表示文件夹**，黑色的表示文件，
    **绿色的其权限为拥有所有权限**。
## mkdir
- mkdir -p 路径
    - 当一次性创建多层不存在的目录的时候，需要添加-p参数，否则会报错
- mkdir a b c
    - 表示在当前路径下同时创建a,b,c三个文件夹
## touch
- touch a.txt b.txt
    - 使用touch来同时创建多个文件
## cp
- 文件复制
    - 语法： cp 被复制的文档路径 文档被复制到的路径
        - 注意：linux在复制过程中是可以重新对新位置的文件进行重命名的，但是如果不是必须的需要，则建议保持前后名称一致
- 文件夹复制
    - 语法 ： cp -r xxx   xxxxx
        - 注意：当使用cp命令进行文件夹复制操作的时候需要添加选项“-r"[-r表示递归复制]，否则目录将被忽略
## 修改文件夹名称
- eg: mv /abc /abc_1
## rm
- rm -f xxx
    - -f表示对要删除的内容进行强制删除
- rm -f abc*
    - 表示删除指定路径下以abc开头的所有内容。
    - 其中*称为通配符，意思表示任意的字符，abc* 则
    表示只要文件以abc开头，后续字符则不管
## 输出重定向
- \>:覆盖输出 ,会覆盖掉原先的文件内容
- \>>:追加输出，不会覆盖原始文件内容，会在原始内容末尾继续输出
    - 注意：在使用\> 或\>> 在输出到文件中时，文件可以不存在，不存在时则创建
## cat
- cat有直接打开一个文件的功能
- 语法1： cat 文件的路径
- 语法2： cat 可以对文件进行合并
    - eg: cat 待合并的文件路径1 待合并的文件路径2 ..... 待合并的文件路径n
## df
- 作用：查看磁盘的空间
- 命令：df -h
    - 表示可以以可读性较高的形式展示大小
    - 回显的结果的最后一列时挂载点（Mounted on）,通过挂载点下面的路径访问第一列的镜像文件
## free
- 作用：查看内存
- 命令：free -m
    - 表示以M的大小对内存大小进行显示
    - 其中的swap用于临时内存，当系统真实内存不够用的时候可以临时使用磁盘空间来充当内存        
## head指令
- 作用：查看一个文件的前n行，如果不指定n，则默认显示前10行
- 语法 ：head -n 文件路径 【n表示数字】
## tail指令
- 作用1：查看一个文件的末n行，如果n不指定默认显示后10行  
- 语法1：tail -n 文件路径 【n表示数字】  
- 作用2：可以通过tail指令来查看一个文件的动态变化
- 语法2：tail -f 文件路径 
    - 该命令一般用于查看系统的日志比较多。
## less
-作用：查看文件，以较少的内容进行输出，按下辅助功能键（数字+回车、空格键+上下方向键）查看更多
- 语法：less 需要查看的文件路径
## wc指令
- 作用:统计文件内容信息（包含行数、单词数、字节数）
- 语法：wc -lwc 需要统计的文件路径
    - **l:表示lines,行数**
    - w:表示words,单词数
    - c:表示bytes,字节数
## date指令（重点）
- 作用：表示操作时间日期（读取、设置）
- 语法1：#date
- 语法2：#date +%F （等价于 #date "%Y-%m-%d"）输出形式：2009-03-23
- 语法3:#date "+%F %T" （等价于 #date "%Y-%m-%d %H:%M-%S"）输出形式：2009-03-23 12:23:12
- 语法4：获取之前或者之后的某个时间（备份）
    - date -d "-/+1 day" "%Y-%m-%d %H:%M-%S"   
## cal 指令
- 作用：用来操作日历的
- 语法1：#cal 等价于 cal -1 直接输出当前月份的日历
- 语法2：#cal -3 表示输出上一个月+本月+下一月的日历
- 语法3：#cal -y 年份 表示输出某一年份的日历
## hostname指令
- 作用：操作服务器的主机名（读取、设置）
- 语法1：hostname    含义：表示输出完整的主机名
- 语法2：hostname -f   含义：表示输出当前主机名的FQDN(全限定域名)
## id指令
- 作用：查看一个用户的一些基本信息（包含用户ID,用户组ID,附加组ID....）,
该指令如果不指定用户则默认当前用户
- 语法1：id 默认显示当前执行该命令的用户的基本信息
- 语法2：id 用户名  显示指定的。。。。
## whoami指令
- 显示当前登录的用户名，**一般用于shell脚本**
## ps -ef指令（**重点**）
- 指令：ps
- 作用：主要是查看服务器的进程信息
- 选项含义
    - e:等价于“-A"，表示列出全部的进程
    - f:显示全部的列 （显示全字段）
- 执行结果
    - 列的含义
        - UID:该进程执行的用户id
        - PID:进程id
        - PPID:该进程的父级进程id,如果一个程序的父级进程找不到，该程序的进程称之为僵尸进程
        - C:cpu的占用率，其形式是百分数
        - STIME:进程的启动时间
        - TTY:终端设备，发起该进程的设备识别符号，如果显示？则表示该进程并不是由终端设备发起，
        - TIME:进程的执行时间
        - CMD:该进程的名称或者对应的路径
## top指令
- 作用：查看服务器的进程占的资源
- 语法：
    - 进入命令：top   (动态显示)
    - 退出命令： 按下q键
- 执行结果
    - 列的含义
        - PID:进程id
        - USER:该进程对应的用户
        - PR:优先级
        - NI:用户进程空间内改变过优先级的进程占用CPUA百分比
        - VIRT:虚拟内存
        - RES:常驻内存
        - SHR:共享内存
        - **S:表示进程的状态（sleeping,其中S表示睡眠，R表示运行）**
        - %CPU:表示CPU的占用百分比
        - %MEM:表示内存的占用百分比
        - TIME+:执行的时间
        - **COMMAND:进程的名称或者路径**
    - 计算一个进程实际使用的内存=常驻内存（RES）-共享内存（SHR）
    - 在运行top的时候，可以按下方便的快捷键
        - M:表示将结果按照内存（MEM)从高到低进行降序排列
        - P:表示将结果按照CPU使用率从高到低进行降序排列
        - 1：当服务器拥有多个cpu的时候可以使用”1“快捷键来切换是否展示显示各个CPU的详细信息
## du -sh指令
- 作用：查看目录的真实大小
- 语法：du -sh 目录路径
- 选项含义
    - s:summaries,只显示汇总的大小
    - h：表示以高可读性的形式进行显示
## find指令
- 作用：用于查找文件（其参数有55个之多）
- 语法：find 路径范围 选项 选项的值
    - 选项
        - name:按照文档名称进行搜索（支持模糊搜索）
        - type:按照文档的类型进行搜索
            - 文档类型：”-“表示文件（在使用find的时候需要用f来替换），”d"表示文件夹
## service指令（重点）
- 作用：用于控制一些软件的服务启动/停止/重启
- 语法格式:service 服务名 start/stop/restart
## kill指令（重点）
- 作用：表示杀死进程  （当遇到僵尸进程或者出于某些原因需要关闭进程的时候）
- 语法: kill 进行PID  (语法需要配合ps一起使用)
- 与kill命令作用相似但是比kill更加好用的杀死进程的命令：killall
    - 语法：killall 进程名称
## ifconfig(重点)
- 作用:用于操作网卡相关的指令
- 简单语法：ifconfig   (获取网卡信息)
    - 注意：inet addr就是网卡的ip地址
## reboot指令
- 作用：重新启动计算机
- 语法1：reboot  重启
- 语法2： reboot -w  模拟重启，但是不重启（只写关机与开机的日志信息）
## shutdown指令
- 作用：关机
- 语法1： shutdown -h now  "关机提示"  或者 shutsown  -h 17:23 "关机提示"
## uptime指令
- 作用：输出计算机的持续在线时间（计算机从开机到现在运行的时间）
## uname指令
- 作用：获取计算机操作系统相关的信息
- 语法1：uname  获取操作系统的类型
- 语法2：uname -a    all,表示获取全部的系统信息（类型、全部主机名、内核版本、发布时间、开源计划）
## netstat -tnlp指令
- 作用:查看网络连接状态
- 语法：netstat -tnlp
    - 选项说明
        - t:表示只列出tcp协议的连接
        - n:表示将地址从字母组合转化成ip地址，将协议转化成端口号来显示
        - l:表示过滤出“state"状态列中其值为listen监听的连接
        - p:表示显示发起连接的进程pid和进程名称    
## man指令
- 作用：manual,手册（包含了linux中全部命令手册，英文）
- 语法：man 命令  （退出按下q键）
## vim
- vim重点是光标的移动，模式切换，删除，查找，替换，复制，粘贴，撤销命令的使用
- vim三种模式
    - 命令模式
        - 在该模式下是不能对文件直接编辑，可以输入快捷键进行一些操作（删除行，复制行，移动光标，粘贴等等）
            - 移动
                - 移动到行首
                    - 按键：shift+6(T字母上面的6，不要按小键盘的6)
                - 移动到行尾
                    - 按键：shift+4(R字母的左上角的4，不是小键盘的4)
                - 光标移动到首行
                    - 按键：gg
                - 光标移动到末行
                    - 按键：G
                - 翻屏
                    - 向上翻屏
                        - 按键：ctrl+b  (before) 或者是直接按 PageUp
                    - 向下翻盘
                        - 按键：ctrl+f (after) 或者PgDn
            - 复制操作
                - 复制光标所在行
                    - 按键：yy
                    - 粘贴：在想要粘贴的地方按下p键
                - 以光标所在行为准（**包含当前行**），向下复制指定的行数
                    - 按键：数字yy
            - 可视化复制
                - 按键：ctrl+v,然后按下 “上下左右”方向键来选中需要复制的区块，按下yy键进行复制
                最后按下p键粘贴
            - 剪切/删除
                - 剪切/删除光标所在行：
                    - 按键：dd (删除之后下一行上移)
                    - 解释：其实这个相当于剪切，如果按dd的那行未在其他地方进行粘贴就相当于删除了
                - 剪切/删除光标所在行为准（包含当前行），向下删除/剪切指定的行
                    - 按键：数字dd (删除之后下一行上移)
                - 剪切/删除光标所在的当前行，但是删除之后下一行不上移
                    - 按键: D (删除之后当前行会变成空白行)
            - 撤销/恢复
                - 撤销：输入":u"  (注意是小u,  undo)
                - 恢复：ctrl+r   恢复（取消）之前的撤销操作
            - 扩展1：光标的快速移动
                - 快速将光标移动到指定的行
                    - 按键：数字G
                - 以当前光标为准向上/向下移动n行
                    - 按键: 数字后边加按向上箭头    数字后边加按向下箭头
                - 以当前光标为准向左/向右移动n字符
                    - 按键:数字后边加按向左箭头   数字后边加按向右箭头
                - 末行模式下的快速移动方式：移动到指定的行
                    - 按键：输入英文”:",其后输入行数数字，按下回车
            - 末行模式：
                - 进入方式：由命令模式进入，按下”:"即可进入
                - 退出方式：
                    - 按下esc
                    - 连按2次esc键
                    - 删除末行全部输入字符
                - 保存操作
                    - 输入：":w"   保存文件
                    - 输入：":w  路径"  另存为
                - 退出（quit)
                    -  输入：":q"   
                - 保存并退出
                    -  输入：”:wq“  保存并退出
                - 强制（！）
                    - 输入：”:q!"  表示强制退出
                - 搜索/查找
                    - 输入："/关键词"
                        - 在搜索结果中切换上/下一个结果：N/n
                        - 如果需要取消高亮，则需要输入：“:nohl” 【no highlight】
                - 替换
                    - :s/搜索的关键词/新的内容   替换光标所在行的第一处符合条件的内容
                    - :s/搜索的关键词/新的内容/g 替换光标所在行的全部符合条件的内容
                    - :%s/搜索的关键词/新的内容   替换整个文档中每行第一个符合条件的内容
                    - :%s/搜索的关键词/新的内容/g     替换整个文档中全部符合条件的内容
                        - 解释
                            - s:s表示string replace
                            - %:%表示整个文件
                            - g:g表示全局（global）
                - 显示行号
                    - 输入：":set nu"   nu表示number
                        - 如果想取消显示，则输入：“:set nonu”
                - 使用vim同时打开多个文件，在末行模式下进行切换文件
                    - 查看当前已经打开的文件名称
                        - 在末行模式中输入“:files”
                            - 在回显的结果中，在%a的位置有2种显示可能
                                - %a:a=active,表示当前正在打开的文件
                                - \#:表示上一个打开的文件
                    - 切换文件的方式
                        - a)如果需要指定切换文件的名称，则可以输入：“:open 指定切换的文件名”
                        - b)可以通过其他命令来切换上一个文件/下一个文件
                            - 输入：“:bn"切换到下一个文件(back next)
                            - 输入：”:bp"切换到上一个文件（back prev）
                - 扩展内容
                    - 1）vim的配置（重点）
                        - vim是一款编辑器，编辑器也是有配置文件的
                            - vim配置有三种情况
                                - a.在文件打开的时候在末行模式下输入的配置（临时的）
                                - b.个人配置文件（~/.vimrc,如果没有可以自行新建）
                                    - 1）新建好个人配置文件之后进入编辑
                                    - 2）在配置文件中进行配置
                                        - 比如显示行号：set nu
                                    - 3）配置好之后vim打开文件就会永远显示行号
                                - c.全局配置文件（vim自带,/etc/vimrc）
                            - 结论：**如果针对同一个配置项，个人配置文件中存在，则以个人配置文件为准，如果个人
                            配置文件中不存在这一项，则以全局配置文件为准**                          
                    - 2）异常退出
                        - 什么是异常退出：在编辑文件之后并没有正常的去wq(保存退出)，而是遇到突然关闭终端或者断电的情况，
                        这个情况称之为异常退出。
                            - 解决方法：将交换文件直接删除
                    - 3）别名机制
                        - 作用：相当于创建一些属于自己的自定义命令
                            - 例如：在windows下有cls命令，在linux下可能因为没有这个命令而不习惯清屏
                            。现在可以通过别名机制来解决这个问题，可以自己创造出cls命令
                        - 别名机制依靠一个**别名映射**文件
                            - 文件位置在：~/.bashrc
                        - 别名示例:在上述文件中另起一行输入：alias cls='clear'
                        - 注意：**如果想新创造的命令生效，必须要重新登录当前用户**
                    - 4）退出方式
                        - 回顾：之前vim中退出编辑的文件可以使用":q"或者":wq"
                        - 除了上面的这个语法之外，vim还支持另外一个保存退出方法":x"
                        - 说明：
                            - ":x"在文件没有修改的情况下，表示直接退出，在文件修改的情况下表示保存并退出
                            - 如果文件没有被修改，但是使用wq进行退出的话，则文件的修改时间会被更新；但是如果文件
                            没有被修改，使用x进行退出的话，则文件修改时间不会被更新的；主要是会混淆用户对文件的修改时间的认定    
                            - **但是，不要使用大写的X，大写的X表示对文件进行加密操作**                                                                                                                                                                                                                                                                                                                                                                                                                    
    - 编辑模式（输入模式）
        - 在该模式下可以对文件的内容进行编辑
    - 末行模式（尾行模式）
        - 可以在末行输入命令来对文件进行操作（搜索、替换、保存、退出、撤销、高亮。。。）
- vim打开文件的方式
    - vim 文件路径   作用：打开指定的文件
    - vim +数字 文件的路径   作用：打开指定的文件，并且将光标移动到指定行
    - vim +/关键词  文件的路径   作用：打开指定的文件，并且高亮显示关键词
    - vim 文件路径1 文件路径2 文件路径3  作用:同时打开多个文件
## linux 自有服务
- 自有服务，即不需要用户独立去安装的软件的服务，而是当系统安装好之后就可以直接使用的服务（内置)
- 运行模式
    - 运行模式也可以称之为**运行级别**
    - 在linux中存在一个进程：init (initialize,初始化)，进程id是1
        - 该进程存在一个对应的配置文件：inittab(**系统运行级别配置文件**，位置/etc/inittab)
- 用户与用户组管理（**重点**）
    - linux系统是一个多用户多任务的操作系统，任何一个要使用系统资源的用户，都必须首先
    向系统管理员申请一个账户，然后以这个账号的身份进入系统
    - 用户的账号一方面可以帮助系统管理员对使用系统的用户进行跟踪，并控制他们对系统资源的访问；
    另一方面也可帮助用户组织文件，并为用户提供安全性保护
    - 每个用户账户都拥有一个唯一的用户名和各自的密码
    - 用户在登录时键入正确的用户名和密码后，就能够进入系统和自己的主目录
    - 要想实现用户账户的管理，要完成的工作主要有如下几个方面：
        - **用户**账户的添加、删除、修改以及用户密码的管理
        - **用户组**的管理
    - **注意三个文件：**
        - /etc/passwd   存储用户的关键信息
            - 字段含义如下：
                - 用户名：创建新用户名称，后期登录的时候需要输入
                - 密码：此密码位置一般情况都是"x",表示密码的占位
                - 用户ID:用户的标识符
                - 用户组ID:该用户所属的主组ID
                - 注释：解释该用户是做什么用的
                - 家目录：用户登录进入系统之后默认的位置
                - 解释器shell:等待用户进入系统之后，用户输入指令之后，该解释器会收集
                用户输入的指令，传递给内核处理
        - /etc/group    存储用户组的关键信息
        - /etc/shadow    存储用户的密码信息         
    - 用户管理
        - 1）添加用户
            - 常用语法: useradd 选项 用户名
                - 常用选项：
                    - \-g:表示指定用户的用户主组，选项的值可以是用户组的id,也可以是组名
                    - \-G:表示指定用户的用户附加组，选项的值可以是用户组的id,也可以是组名
                    - \-u: uid,用户的id(用户的标识符)，系统默认会从500之后按顺序分配uid,
                    如果不想使用系统分配的，可以通过该选项自定义           
                    - \-c: comment添加注释
        - 2）修改用户
            - 常用语法：usermod 选项 用户名
                 - 常用选项：
                    - \-g:表示指定用户的用户主组，选项的值可以是用户组的id,也可以是组名
                    - \-G:表示指定用户的用户附加组，选项的值可以是用户组的id,也可以是组名
                    - \-u: uid,用户的id(用户的标识符)，系统默认会从500之后按顺序分配uid,
                    如果不想使用系统分配的，可以通过该选项自定义           
                    - \-l: 修改用户名
                        - eg:usermod -l 新的用户名 旧的用户名
        - 3）设置密码
            - linux不允许没有密码的用户登录到系统，因此没有密码的用户都处于锁定状态，需要设置密码之后才能
            登录计算机。
            - 常用语法： passwd 用户名   
        - 4）删除用户
            - 常用语法：userdel 选项 用户名
            - 常用选项：
                - \-r:表示删除用户的同时，删除其家目录             
        - 切换用户
            - 切换用户命令：su \[用户名]  
                - 如果用户名不指定则表示切换到root用户  
                - 从root往普通用户切换不需要密码，但是反之则需要root密码
                - 切换用户之后前后的工作路径是不变的
                - 普通用户没有办法访问root用户家目录，但是反之则可以
        - **补充：所有跟用户操作的命令（除passwd外）只有root超级管理员有权限执行**
    - 用户组管理
        - 每个用户都有一个用户组，系统可以对一个用户组中的所有用户进行集中管理。
        不同linux系统对用户组的规定有所不同，如linux下的用户属于与它同名的用户组
        ，这个用户组在创建用户时同时创建
        - 用户组的管理涉及用户组的添加、删除和修改。组的增加、删除和修改实际上就是
        对/etc/group文件的更新
            - etc/group问价结构
                - 用户组名：密码：用户组ID：组内用户名
                    - 密码：x表示占位符，虽然用户组可以设置密码，但是绝大部分的情况下不设置密码
                    - 组内用户名：表示附加组是该组的用户名称
            - 用户组添加
                - 常用语法：groupadd 选项 用户组名
                - 常用选项：
                    - g:   类似用户添加里的"-u",-g表示选择自己设置一个自定义的用户组ID数字。如果
                    自己不指定，则默认从500之后递增
            - 用户组编辑
                - 常用语法：groupmod 选项 用户组名
                - 常用选项：
                    - g:   类似用户修改里的"-u",-g表示选择自己设置一个自定义的用户组ID数字。如果
                    自己不指定，则默认从500之后递增 
                    - n: 类似于用户修改里的”-l“,表示设置新的用户组的名称
            - 用户组删除
                - 常用语法：groupdel 用户组名 
                - **注意：当如果需要删除一个组，但是这个组是某个用户的主组时，则不允许删除；
                如果确实需要删除，则先从组内移出所有用户**                                                             
## 网络配置
- 首先知道网卡配置文件位置：/etc/sysconfig/network-scripts
- 在目录中网卡的配置文件命名格式：ifcfg-网卡名称
    - ONBOOT：是否开机启动
    - BOOTPROTO:ip地址分配方式，DHCP表示动态主机分配协议
    - HWADDR:硬件地址，MAC地址
- 如果后续需要重启网卡怎么去操作呢？
    - 方式1：service network restart
    - 方式2：
        - 在有的分支版本中可能没有service命令来快速操作服务，但是有一个共性的目录：/etc/init.d这个
        目录中放着很对服务的快捷方式
        - 此处重启网卡命令还可以使用：/etc/init.d/network restart
- **扩展1**
    - 如果修改网卡的配置文件，但是配置文件的目录层次很深，此时可以在浅的目录中创建
    一个快捷方式（**软链接**），方便以后去查找
        - 命令:ln -s 原始文件的路径 快捷方式的路径
- **扩展2**
    - **如何去重启单个网卡**？
        - 停止某个网卡：ifdown 网卡名
        - 开启某个网卡: ifup 网卡名                           
## ssh服务
- SS服务文件传输
    - 通过命令行工具来传输文件/文件夹
        - 工具：PSCP.exe(必须通过cmd命令行打开)，为了使用方便，可以将其放到放到
        环境变量目录中。如果不清楚哪些路径是环境变量路径，只需要将其放到C://Windows
        目录下即可
## 设置主机名
- 语法1：hostname    含义：表示输出完整的主机名
- 语法2：hostname -f   含义：表示输出当前主机名的FQDN(全限定域名)  
- 1)临时设置主机名（立竿见影），需要切换用户(使用su命令)使之生效
    - hostname  设置的主机名                                              
- 2)永久设置主机名（需要重启）
    - 先找到一个文件/etc/sysconfig/network 文件，其是主机名的配置文件，
    修改其中的HOSTNAME为自己需要设置的永久主机名   
- 3)修改linux服务器的host文件，将**修改后的主机名**指向本地（设置FQDN）
    - host文件的位置：/etc/hosts
    - **问题**
        - 问题1 ：不设置FQDN会怎么样？
            - 很多开源服务器软件（例如Apache）则无法启动，或出现报错
            - 方便记忆，看到主机名对其作用有一个初步判断
            - 如果不设置则会影响本地的域名的解析（本地访问）
## chkconfig
- 作用：相当于windows下”安全卫士“，电脑管家之类的安全辅助工具提供开机启动项的一个管理服务
- 在linux下不是所有的软件安装完成之后都有开机启动服务，有的可能需要自己去添加。
除此之外还可以查看和删除
- 开机启动服务查询
    - 命令：chkconfig --list
        - 结果解释：其中0-6表示各个启动级别。例如：以httpd为例，其3级别
        为关闭off，则表示其在3启动形式下默认开机不启动
- 删除服务
    - 命令：chkconfig --del 服务名
- 添加服务
    - 命令：chkconfig --add 服务名
        - 注意：必须要保证服务可以正常运行，添加才是有效的
- 设置服务在某个级别下开机启动/不启动【重点命令】
    -   chkconfig --level 连在一起的启动级别 服务名 on/off     
## ntp服务
- 作用：ntp主要是用于**对计算机的时间同步管理**操作
- 时间是对服务器来说是很重要的，一般很多网站都需要读取服务器时间来记录相关信息，
如果时间不准，则可能造成很大的影响
- 同步服务器时间方式有2个：**一次性同步（手动同步）、通过服务自动同步**
    - 一次性同步
        - ntpdate  时间服务器的域名或ip地址
    - 通过服务自动同步
        - 设置时间同步服务
            - 服务名:ntpd
             - 启动ntpd服务
                - service ntpd start 或者 /etc/init.d/ntpd start
             - 设置ntpd服务开机启动
                - chkconfig --level 35 ntpd on                
## 防火墙服务
- 防火墙：防范一些网络攻击。有**软件防火墙**、硬件防火墙之分
    - 防火墙选择让请求通过，从而保证网络安全性
- 在centos6.5中防火墙有一个名称:iptables 。在7.x中默认使用的是firewalld
    - 查看iptables是否开机启动
        - chkconfig --list | grep iptables
    - 查看firewalld是否开机启动
        - systemctl status firewalld
    - iptables服务启动/重启/关闭
        - way1:service iptables start/restart/stop
        - way2:/etc/init.d/iptables start/restart/stop
    - 查看iptables的状态
        - service iptables status
            - 如果iptables没有启动，则提示服务没启动；如果已经启动，则
            显示防火墙的相关的规则信息。   
    - 查看规则的含义
        - 命令1： iptables --L --n
            - 含义
                - \-L: 表示列出规则
                - \-n: 表示将单词表达形式改成数字形式显示（该选项不是必选的，可以去掉，去掉之后回显的source会显示是anyware）
        - 命令2： systemctl firewalld --list --all
    - 简单设置防火墙规则
        - 例如：iptables -I INPUT -p tcp --dport 80 -j ACCEPT
            - 含义为：允许访问80端口，允许80端口通过防火墙 
                - iptables:主命令
                - A: add 添加规则  A不好使，换成I好使了
                - INPUT: 进站请求【出站：OUTPUT】
                - p:protocol,指定协议(icmp/tcp/upd)
                - dport:指定端口号
                - j:指定行为结果，允许（accept）/禁止（reject）       
            - 执行完上述命令之后，执行/etc/init.d/iptables save 命令；在centos7
            中执行firewall --cmd --reload命令
            - 最后执行重启服务，service iptables restart
## rpm管理
- 作用：rpm的作用类似于windows上的电脑管家中”软件管理“、安全卫士里面的”软件管家“等产品，
主要作用是对linux服务器上的软件包进行对应管理操作，**管理分为：查询、卸载、安装**
- 1） 查询某个软件的安装情况
    - rpm -qa | grep 关键词
        - 选项含义
            - q:查询，query
            - a:全部，all
- 2）卸载某个软件
    - rpm -e 软件的名称
        - 选项含义
    - rpm -e 软件的名称 --nodeps
        - 当存在依赖关系的时候又不想去解决这个问题的时候可以使用上述命令                  
- 3）软件的安装
    - 软件包的获得方式
        - a)去官网去下载
        - b)不介意老版本的话，可以从光盘（或者是镜像文件）中读取
            - 查看块状设备的信息
                - lsblk   (list block devices) 查看块状设备的信息
                
            - **扩展：光盘的挂载和解挂**
                - i)解挂操作
                    - 命令：umount
                    - 语法：umount 当前设备的挂载点（路径）
                - ii)挂载
                    - 命令：mount
                    - 语法：mount 设备原始地址  要挂载的位置路径
                        - 设备原始地址：地址统一都在/dev下，然后根据大小确定具体name值，
                        拼凑在一起组成原始地址。例如：/dev/sr0
                        - 要挂载的位置路径：挂载目录一般都在mnt下，也可以在mnt下建立目录
    - 安装软件的命令
        - rpm -ivh 软件包完整名称
            - 选项
                - i:install 安装
                - v：显示进度条
                - h:表示以\#形式显示进度条
## cron/crontab计划任务
- 作用：os不可能24h都有人在操作，有些时候想在指定的时间点去执行任务
- 语法：crontab 选项
    - 常用选项
        - **\-l:list 列出指定用户的计划任务列表**
        - **\-e:edit 编辑指定用户的计划任务列表**
        - \-u:user 指定的用户名，如果不指定，则表示当前用户
        - \-r :remove,删除指定用户的计划任务列表
- 编辑计划任务
    - 计划任务的规则语法格式，以行为单位，一行则为一个计划
        - 分 时 日 月 周 需要执行的命令
            - 取值范围
                - 分：0~59
                - 时：0~23
                - 日：1~31
                - 月：1~12
                - 周：0~6，0表示星期天
            - 四个符号
                - \*:表示取值范围中的每一个数字
                - \-:做区间表达式的，要想表示1~7，则可以写成1-7
                - \/:表示每多少个，例如：想每10分钟一次，则可以在分的位写：*/10
                - \,:表示多个取值，比如想在1点，2点，6点执行，则可以在时的位置写：1,2,6
- crontab权限问题
    - 本身是任何用户都可以创建自己的计划任务。但是超级管理员可以通过配置来
    设置某些用户不允许设置计划任务。
        - 配置文件位于（黑名单）：/etc/cron.deny,里面写用户名，一行一个
        - 还有一个配置文件（白名单）:/etc/cron.allow  （本身不存在，自己创建）
    - **注意：白名单优先级高于黑名单，如果一个用户同时存在两个名单文件中，
    则会被默认允许创建计划任务** 
## linux权限管理
- linux的权限操作与用户、用户组是兄弟操作
### 权限概念
- 总述：linux系统一般将文件可存/取访问的身份分为3个类别：owner, group,other,且3种
身份各有read,write,execute等权限
- 权限介绍
    - 在多用户（可以不同时）计算机系统的管理中，权限是指某个特定的用户具有特定的系统资源使用权力，像是
    文件夹、特定系统指令的使用或存储量的限制
- 在linux中分别有读、写、执行权限
    - 读权限
        - 对于文件夹来说，读权限影响用户是否能够列出目录结构
        -  对于文件来说，读权限影响用户是否可以查看文件内容
    - 写权限
        - 对文件夹来说，写权限影响用户是否可以在文件夹下”创建/删除/复制到/移动到"文档
        - 对文件来说，写权限影响用户是否可以编辑文件
    - 执行权限
        - 一般都是对于文件来说，特别脚本文件
- 身份介绍
    - owner身份（文件所有者，默认为文档的创建者）
        - 由于linux是多用户、多任务的操作系统，因此可能常常有多人同时在某台
        主机上工作，但每个人均可在主机上设置文件的权限，让其成为个人的私密文件
        ，即个人所有。因为设置了适当的文件权限，除本人（文件所有者）之外的用户无法
        查看文件内容。  
    - group身份（与文件所有者同组的用户）
        - 与文件所有者同组最有用的功能就体现在**多个团队在同一台主机上开发资源的时候**
    - others身份（其他人）
    - root用户（超级用户）
        - root在所有用户中拥有最大的权限，管理着普通用户                                
### 权限指令
- linux权限介绍
    - 要设置权限，就需要知道文件的一些基本属性和权限的分配规则。在linux中，ls命令常用来查看文件的属性，
    用于显示文件的文件名和相关属性
        - ls -l 路径
- 权限设置
    - 语法：chmod 选项 权限模式 文档
    - 注意：
        - 常用选项
            - \-R:递归设置权限  （当文档类型为文件夹的时候）
        - 权限模式：就是该文档需要设置的权限信息
        - 文档：可以是文件，也可以是文件夹，可以是相对路径可以是绝对路径
- 字母形式
    - 给谁设置
        - u: 表示所有者身份owner
        - g: 表示给所有者同组用户设置（group)
        - o: 表示others，给其他用户设置权限
        - a:  表示all，给所有人（包含ugo部分）设置权限。
            - 如果在设置权限的时候不指定给谁设置，则默认给所有用户设置
    - 权限字符
        - r:读
        - w:写
        - x：表示执行
    - 权限分配方式
        - +：表示给具体的用户新增权限
        - -：表示删除用户的权限
        - =：表示将权限设置成具体的值（注重结果）                                             
## 网络相关命令
- ping
- netstat
    - 作用：表示查看网络的连接信息
    -  命令1：netstat -tnlp  
        - 解释：t表示tcp协议，n表示将字母转化为数字，l表示列出状态为监听，
        p表示进程相关信息      
    -  命令2：netstat -an
        - 解释：\-a表示全部 ,n表示将字母转化为数字
- traceroute 
    - 作用 ：查找当前主机与目标主机之间所有的网关（路由器，会给沿途各个路由器发生icmp数据包，路由器可能会不给响应）
        - 该命令不是内置命令，需要安装  
    - 语法：traceroute 主机地址 
- arp
    - 地址解析协议，即ARP(Address Resolution Prootocol),是根据IP地址获取物理
    地址（mac地址）的协议
    - 常用语法：
        - arp -a  查看本地缓存mac表
        - arp -d 主机地址  删除指定的缓存记录
- tcpdump
    - 作用：抓包，抓取数据表
    - 常用语法：
        - tcpdump 协议  port 端口
        - tcpdump 协议  port 端口  host 地址
        - tcpdump -i 网卡设备名                              